
<a [routerLink]="['/groups/your-groups']" routerLinkActive="router-link-active"  class="back">&lt; Volver al inicio</a>
<div class="container">
  <br>
    <div class="info">
      <p class="product-name">{{ group?.GroupName }}</p>
      <br>
      <div class="row g-5">
        <div class="col-md-8">
          <p class="h3">Eventos a realizar</p>
          <br>
          <div class="col-md-6">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
              <div class="col p-4 d-flex flex-column position-static">
                <p class=" h4 d-inline-block mb-2 text-primary">Lorem Ipsum</p>
                <div class="mb-1 text-muted">12 de Marzo de 2022</div>
                <p class="card-text mb-auto">Lorem ipsum dolor sit amet consectetur adipiscing elit fermentum arcu turpis, nunc phasellus donec augue mi pharetra vehicula mauris semper eleifend nec, proin nulla senectus cubilia velit id suscipit imperdiet eros.</p>
                <br>
                <a href="#" class="stretched-link">Participar</a>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
              <div class="col p-4 d-flex flex-column position-static">
                <p class=" h4 d-inline-block mb-2 text-success">Lorem Ipsum</p>
                <div class="mb-1 text-muted">27 De Marzo de 2022</div>
                <p class="mb-auto">Lorem ipsum dolor sit amet consectetur adipiscing elit fermentum arcu turpis, nunc phasellus donec augue mi pharetra vehicula mauris semper eleifend nec, proin nulla senectus cubilia velit id suscipit imperdiet eros.</p>
                <br>
                <a href="#" class="stretched-link">Participar</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 mb-3 bg-light rounded">
              <p class="h3 fst-italic">Sobre</p>
              <p class="mb-0">{{ group?.description }}</p>
            </div>

            <div class="p-4">
              <ul class="nav nav-taps">
                <li class="nav-item dropdown">
                  <a class="h4 nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Opciones</a>
                  <ul class="dropdown-menu">
                    <li><a class="h5 dropdown-item" role="button" href="#">Regresar</a></li>
                    <!-- <li><a class="h5 dropdown-item" role="button" href="#">Crear evento</a></li> -->
                    <a class="h5 dropdown-item" data-bs-toggle="modal" data-bs-target="#content-modal" role="button" (click)="modalOpen(content)" >Crear Evento</a>
                    <li><a class="h5 dropdown-item" role="button" data-bs-toggle="modal" data-bs-target="#edit-groups-modal">Editar grupo</a></li>
                    <li><a class="h5 dropdown-item" role="button" data-bs-toggle="modal" data-bs-target="#modal-events-completed">Ver eventos realizados</a></li>
                    <li><a class="h5 dropdown-item" role="button" data-bs-toggle="modal" data-bs-target="#modal-report-events-groups-organizer">Reportes</a></li>
                    <li><a class="h5 dropdown-item" role="button" href="#">Eliminar grupo</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
          <ng-template #content let-modal>
            <!-- <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button> -->
            <form [formGroup]="createEventForm" (ngSubmit)="postForm(createEventForm.value)">
                <mat-datepicker class="modal" #picker style="z-index: 1000;"></mat-datepicker>
                    <div class="modal-dialog modal-lg modal-dialog-scrollable">
                        <div class="modal-content" >
                            <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Creacion de eventos</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                        <label for="">Nombre del Evento:</label>
                                        <input type="text" class="form-control" id=""
                                        placeholder="Ej: El mejor evento" [ngClass]="
                                        (createEventForm.get('nombreEvento')?.touched || createEventForm.get('nombreEvento')?.dirty) &&
                                            createEventForm.get('nombreEvento')?.errors ? 'is-invalid' : ''" formControlName="nombreEvento">
                                            <div class="invalid-feedback">
                                                {{
                                                    createEventForm.get("nombreEvento")?.hasError("required")
                                                    ? "Nombre requerida"
                                                    : ""
                                                }}
                                            </div>
                                        
                                        <label for="">Tipo de Evento:</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"[ngClass]="
                                            (createEventForm.get('tipoEvento')?.touched || createEventForm.get('tipoEvento')?.dirty) &&
                                                createEventForm.get('tipoEvento')?.errors ? 'is-invalid' : ''" formControlName="tipoEvento" name="tipoEvento" value="presencial" checked>
                                            <label class="form-check-label" for="flexRadioDefault1">
                                                Presencial
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" [ngClass]="
                                            (createEventForm.get('tipoEvento')?.touched || createEventForm.get('tipoEvento')?.dirty) &&
                                                createEventForm.get('tipoEvento')?.errors ? 'is-invalid' : ''" formControlName="tipoEvento" name="tipoEvento" value="virtual">
                                            <label class="form-check-label" for="flexRadioDefault2">
                                                Virtual
                                            </label>
                                        </div>
                                        <div class="invalid-feedback">
                                            {{
                                                createEventForm.get("tipoEvento")?.hasError("required")
                                                ? "Tipo Requerido"
                                                : ""
                                            }}
                                        </div>
                
                                        <label for="">Descripcion Evento:</label>
                                        <div class="mb-2">
                                            <textarea class="form-control" id="exampleFormControlTextarea1" placeholder="Explica de que tratará y dónde será."
                                            rows="2" [ngClass]="(createEventForm.get('descripcionEvento')?.touched ||
                                            createEventForm.get('descripcionEvento')?.dirty) &&
                                            createEventForm.get('descripcionEvento')?.hasError('required')
                                            ? 'is-invalid'
                                            : '' || createEventForm.get('descripcionEvento')?.hasError('minlength')
                                            ? 'is-invalid'
                                            : '' ||
                                              ((createEventForm.get('descripcionEvento')?.touched ||
                                              createEventForm.get('descripcionEvento')?.dirty) &&
                                                !createEventForm.get('descripcionEvento')?.invalid)
                                            ? 'is-valid'
                                            : ''"
                                            
                                     formControlName="descripcionEvento"></textarea>
                                        </div>
                                        <div class="invalid-feedback">
                                            {{
                                                createEventForm.get("descripcionEvento")?.hasError("required")
                                                  ? " Descripcion requerida"
                                                  : ""
                                              }}
                                              {{
                                                createEventForm.get("descripcionEvento")?.hasError("minlength")
                                                  ? " 5 letras requeridas"
                                                  : ""
                                              }}
                                        </div>
                
                                        <label for="">Fecha Realizacion:</label>
                                        <input type="date" class="form-control" [ngClass]="
                                        (createEventForm.get('fechaEvento')?.touched || createEventForm.get('fechaEvento')?.dirty) &&
                                            createEventForm.get('fechaEvento')?.hasError('required') ? 'is-invalid' : ''" 
                                            formControlName="fechaEvento">
                                        <!-- <input matInput [matDatepicker]="picker" class="form-control" [ngClass]="
                                        (createEventForm.get('fechaEvento')?.touched || createEventForm.get('fechaEvento')?.dirty) &&
                                            createEventForm.get('fechaEvento')?.hasError('required') ? 'is-invalid' : ''" formControlName="fechaEvento"  style="display: inline; width: 90%;">
                                        <mat-datepicker-toggle matSuffix [for]="picker" style="color: #000; " ></mat-datepicker-toggle>
                                        <mat-datepicker class="modal" #picker></mat-datepicker> -->
                                        <div class="invalid-feedback">
                                            {{
                                                createEventForm.get("fechaEvento")?.hasError("required")
                                                ? " Fecha requerida"
                                                : ""
                                            }}
                                        </div>
                                        <style>
                                            ::ng-deep .cdk-overlay-container {
                                              z-index: 2000;}
                                        </style>
            
                
                                        <label for="exampleInputEmail1">Numero Participantes:</label>
                                        <input type="number" class="form-control" id="exampleInputEmail1"
                                         min="2" max="200" [ngClass]="
                                         (createEventForm.get('ParticipantesTotales')?.touched || createEventForm.get('ParticipantesTotales')?.dirty) &&
                                             createEventForm.get('ParticipantesTotales')?.hasError('required') ? 'is-invalid' : ''" formControlName="ParticipantesTotales">
            
                                        <div class="invalid-feedback">
                                            {{
                                                createEventForm.get("ParticipantesTotales")?.hasError("required")
                                                ? " Numero de participantes requeridos"
                                                : ""
                                            }}
                                        </div>                                  
                                   
                                    
                                    <div class="check-container-politycs">
                                        
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="invalidCheck" [ngClass]="
                                            
                                                createEventForm.get('check')?.hasError('required') ? 'is-invalid' : ''" formControlName="check">
                                            <label class="form-check-label" for="invalidCheck">
                                                Para la creación de el evento deberá estar de acuerdo con la ley 1480 de 2011 articulo 30 con respecto al evento a crear.
                                            </label>
                                            <div class="invalid-feedback">
                                                {{
                                                    createEventForm.get("check")?.hasError("required")
                                                    ? " Numero de participantes requeridos"
                                                    : ""
                                                }}
                                            </div>    
                                        </div>             
                                
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary" [disabled]="createEventForm.invalid" data-bs-dismiss="modal">Crear evento</button>
                            </div>
                        </div>
                        
                    
                </div> 
            </form>
            
                
                
            <!-- <app-modal-disable-event [idEvent]="eventGroupForm.get('idEvento')?.value" [form]="eventGroupForm.value"></app-modal-disable-event> -->
        </ng-template>
      </div>
    </div>
</div>

